<div class="stress-level-monitor-container container-fluid mt-4">
  <div class="row">
    <p-messages 
      *ngIf="!stressLevelMonitorForm.enabled" 
      [(value)]="messages" 
      [enableService]="false" 
      [closable]="false">
    </p-messages>
    <div class="col-12 mt-2">
      <form [formGroup]="stressLevelMonitorForm" (ngSubmit)="onSubmitStressLevelMonitorForm()">
        <div class="text-center mb-5">
          <h3>{{ stressLevelMonitorForm.get('date').value | date: 'EEEE, MMMM d, y' }}</h3>
        </div>
        <div class="d-flex flex-column align-items-center gap-3">
          <p class="title text-center mb-5">Indicate your stress level today</p>
          <p-knob 
            formControlName="stressLevel" 
            valueTemplate="{value}%" 
            [step]="10" 
            [size]="300" 
            [strokeWidth]="7" 
            valueColor="#0b5ed7">
          </p-knob>
          <div class="d-flex gap-2">
            <p-button icon="pi pi-plus" (onClick)="incrementStressLevel()" [disabled]="stressLevel >= 100 || isFormDisabled()" />
            <p-button icon="pi pi-minus" (onClick)="decrementStressLevel()" [disabled]="stressLevel <= 0 || isFormDisabled()" />
          </div>
        </div>
        <div class="col-12 mt-5 mb-5 d-flex justify-content-center align-items-center">
          <button 
            type="submit" 
            [disabled]="!stressLevelMonitorForm.valid" 
            class="btn btn-primary button"
          >
            Save
          </button>
        </div>
      </form>
  </div>
</div>
<p-toast></p-toast>
